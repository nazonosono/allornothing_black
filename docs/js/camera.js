const videoElm=document.createElement("video"),canvasElm=document.getElementById("canvas"),canvas=canvasElm.getContext("2d"),loadingMsgElm=document.getElementById("loadingMessage");function tick(){if(loadingMsgElm.innerText="âŒ› Loading camera...",videoElm.readyState===videoElm.HAVE_ENOUGH_DATA){loadingMsgElm.hidden=!0,canvasElm.hidden=!1,canvasElm.height=videoElm.videoHeight,canvasElm.width=videoElm.videoWidth,canvas.drawImage(videoElm,0,0,canvasElm.width,canvasElm.height);const e=canvas.getImageData(0,0,canvasElm.width,canvasElm.height),t=jsQR(e.data,e.width,e.height,{inversionAttempts:"dontInvert"});if(t&&t.data){const e="#FF3B58";drawLine(t.location.topLeftCorner,t.location.topRightCorner,e),drawLine(t.location.topRightCorner,t.location.bottomRightCorner,e),drawLine(t.location.bottomRightCorner,t.location.bottomLeftCorner,e),drawLine(t.location.bottomLeftCorner,t.location.topLeftCorner,e);const n=Number(t.data),a=HIRAGANA[n];if(a){document.getElementById(ID.MODAL_HIRAGANA).textContent=a;document.getElementById(ID.MODAL).hidden=!1,addToUnlocked(n)}}}requestAnimationFrame(tick)}function drawLine(e,t,n){canvas.beginPath(),canvas.moveTo(e.x,e.y),canvas.lineTo(t.x,t.y),canvas.lineWidth=4,canvas.strokeStyle=n,canvas.stroke()}navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then((function(e){videoElm.srcObject=e,videoElm.setAttribute("playsinline",!0),videoElm.play(),requestAnimationFrame(tick)}));
//# sourceMappingURL=camera.js.map